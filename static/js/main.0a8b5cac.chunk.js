(this["webpackJsonpreact_dynamic-list-of-goods"]=this["webpackJsonpreact_dynamic-list-of-goods"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var r=n(7),a=n.n(r),c=n(3),o=n(4),s=n(2),i=n.n(s),u=n(1),l=n.n(u),d=n(5),f=n.n(d);n(13);function b(){return fetch("https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json").then((function(t){if(!t.ok)throw new Error("Network response was not OK");return t.json()})).catch((function(t){throw new Error("Error fetching all goods: ".concat(t))}))}var j,p=function(){var t=Object(c.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b();case 3:return e=t.sent,t.abrupt("return",e.sort((function(t,e){return t.name.localeCompare(e.name)})).slice(0,5));case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Error fetching 5 first goods: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b();case 3:return e=t.sent,t.abrupt("return",e.filter((function(t){return"red"===t.color})));case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Error fetching only red goods: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();!function(t){t.NONE="none",t.ALL="all",t.FIRST5="first5",t.ONLYRED="onlyRed"}(j||(j={}));n(14);var m=n(0),O=l.a.memo((function(t){var e=t.goods;return Object(m.jsx)("ul",{className:"goods-list",children:e.map((function(t){return Object(m.jsx)("li",{"data-cy":"good",style:{color:t.color},className:"good",children:t.name},t.id)}))})})),v=(n(16),function(){return Object(m.jsx)("div",{className:"loader-container",children:Object(m.jsx)("div",{className:"loader"})})}),y=function(){var t=Object(u.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(u.useState)(j.NONE),s=Object(o.a)(a,2),l=s[0],d=s[1],y=Object(u.useState)(!1),g=Object(o.a)(y,2),x=g[0],N=g[1],w=Object(u.useState)(""),L=Object(o.a)(w,2),E=L[0],k=L[1],R=Object(u.useCallback)(function(){var t=Object(c.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!0),t.next=3,e();case 3:n=t.sent;try{r(n),k("")}catch(a){k("Failed to load data. Please try again later.")}finally{N(!1)}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),S=!E&&!x,A=function(t){return l===t};return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"title",children:"Dynamic list of Goods"}),Object(m.jsxs)("div",{className:"buttons is-centered",children:[Object(m.jsx)("button",{className:f()("button is-primary is-outlined",{"is-active":A(j.ALL)}),type:"button","data-cy":"all-button",onClick:function(){return t=b,e=j.ALL,d(e),void R(t);var t,e},disabled:A(j.ALL),children:"Load all goods"}),Object(m.jsx)("button",{className:f()("button is-primary is-outlined",{"is-active":A(j.FIRST5)}),type:"button",name:"first5","data-cy":"first-five-button",onClick:function(){d(j.FIRST5),R(p)},disabled:A(j.FIRST5),children:"Load 5 first goods"}),Object(m.jsx)("button",{className:f()("button is-primary is-outlined",{"is-active":A(j.ONLYRED)}),type:"button",name:"onlyRed","data-cy":"red-button",onClick:function(){d(j.ONLYRED),R(h)},disabled:A(j.ONLYRED),children:"Load red goods"})]}),E&&Object(m.jsx)("p",{className:"error",children:E}),x&&Object(m.jsx)(v,{}),S&&Object(m.jsx)(O,{goods:n})]})})};a.a.render(Object(m.jsx)(y,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0a8b5cac.chunk.js.map