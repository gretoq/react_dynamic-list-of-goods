(this["webpackJsonpreact_dynamic-list-of-goods"]=this["webpackJsonpreact_dynamic-list-of-goods"]||[]).push([[0],{13:function(t,e,r){},14:function(t,e,r){},16:function(t,e,r){},17:function(t,e,r){"use strict";r.r(e);var n=r(7),a=r.n(n),c=r(3),o=r(4),s=r(2),i=r.n(s),u=r(1),l=r.n(u),d=r(5),b=r.n(d);r(13);function f(){return fetch("https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json").then((function(t){if(!t.ok)throw new Error("Network response was not OK");return t.json()})).catch((function(t){throw new Error("Error fetching all goods: ".concat(t))}))}var j,p=function(){var t=Object(c.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f();case 3:return e=t.sent,t.abrupt("return",e.sort((function(t,e){return t.name.localeCompare(e.name)})).slice(0,5));case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Error fetching 5 first goods: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f();case 3:return e=t.sent,t.abrupt("return",e.filter((function(t){return"red"===t.color})));case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Error fetching only red goods: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();!function(t){t.ALL="all",t.FIRST5="first5",t.ONLYRED="onlyRed"}(j||(j={}));r(14);var m=r(0),O=l.a.memo((function(t){var e=t.goods;return Object(m.jsx)("ul",{className:"goods-list",children:e.map((function(t){return Object(m.jsx)("li",{"data-cy":"good",style:{color:t.color},className:"good",children:t.name},t.id)}))})})),v=(r(16),function(){return Object(m.jsx)("div",{className:"loader-container",children:Object(m.jsx)("div",{className:"loader"})})}),x=function(){var t=Object(u.useState)([]),e=Object(o.a)(t,2),r=e[0],n=e[1],a=Object(u.useState)(null),s=Object(o.a)(a,2),l=s[0],d=s[1],x=Object(u.useState)(!1),g=Object(o.a)(x,2),y=g[0],w=g[1],N=Object(u.useState)(""),k=Object(o.a)(N,2),E=k[0],L=k[1],R=Object(u.useCallback)(function(){var t=Object(c.a)(i.a.mark((function t(e){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(!0),d(e),r=[],t.prev=3,t.t0=e,t.next=t.t0===j.FIRST5?7:t.t0===j.ONLYRED?11:15;break;case 7:return t.next=9,p();case 9:return r=t.sent,t.abrupt("break",18);case 11:return t.next=13,h();case 13:return r=t.sent,t.abrupt("break",18);case 15:return t.next=17,f();case 17:r=t.sent;case 18:n(r),L(""),t.next=27;break;case 22:throw t.prev=22,t.t1=t.catch(3),L("Failed to load data. Please try again later."),w(!1),new Error("Something go wrong, the error is - ".concat(t.t1));case 27:w(!1);case 28:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(e){return t.apply(this,arguments)}}(),[]);return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"title",children:"Dynamic list of Goods"}),Object(m.jsxs)("div",{className:"buttons is-centered",children:[Object(m.jsx)("button",{className:b()("button is-primary is-outlined",{"is-active":l===j.ALL}),type:"button","data-cy":"all-button",onClick:function(){return R(j.ALL)},children:"Load all goods"}),Object(m.jsx)("button",{className:b()("button is-primary is-outlined",{"is-active":l===j.FIRST5}),type:"button","data-cy":"first-five-button",onClick:function(){return R(j.FIRST5)},children:"Load 5 first goods"}),Object(m.jsx)("button",{className:b()("button is-primary is-outlined",{"is-active":l===j.ONLYRED}),type:"button","data-cy":"red-button",onClick:function(){return R(j.ONLYRED)},children:"Load red goods"})]}),E&&Object(m.jsx)("p",{className:"error",children:E}),y&&Object(m.jsx)(v,{}),!E&&!y&&Object(m.jsx)(O,{goods:r})]})})};a.a.render(Object(m.jsx)(x,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.de482ad6.chunk.js.map